{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-19T05:11:54.776Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 13,
    "implemented": 8,
    "items": [
      {
        "id": "REQ-106",
        "summary": "Add a User data model to the backend (backend/main.mo) containing fields: username (Text), whatsappNumber (Text), groupNumber (Text), email (Text), passwordHash (Text), status (Text with values 'Pending' or 'Approved'), and registeredAt (Int timestamp).",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-107",
        "summary": "Implement a registerUser backend function in backend/main.mo that accepts user registration data (username, whatsappNumber, groupNumber, email, password), hashes the password securely, creates a new User record with status='Pending', stores it in a stable data structure (Map or similar), and returns a success/error response.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-108",
        "summary": "Implement a loginUser backend function in backend/main.mo that accepts username/email and password, verifies credentials against stored user data, checks the user's status field, and returns authentication success with user details only if status='Approved', or returns an appropriate error if status='Pending' or credentials are invalid.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-109",
        "summary": "Implement a getAllUsers backend query function in backend/main.mo that returns a list of all registered users with their username, whatsappNumber, and status fields (do not include passwordHash in the response).",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-110",
        "summary": "Implement an approveUser backend update function in backend/main.mo that accepts a user identifier (username or email), finds the user record, updates their status from 'Pending' to 'Approved', and returns a success/error response.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-111",
        "summary": "Wire the registration form submit handler in frontend/src/components/registration/RegistrationForm.tsx to call the backend registerUser function with the form data (username, whatsappNumber, groupNumber, email, password), display a success message on successful registration, and show error messages for validation failures or backend errors.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/registration/RegistrationForm.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/registration/RegistrationForm.tsx"
        ]
      },
      {
        "id": "REQ-112",
        "summary": "Implement a login authentication flow where the 'Login' button on the Registration page (frontend/src/components/registration/RegistrationForm.tsx or a new login form component) triggers a backend loginUser call with username/email and password, stores authentication state (user session/token) on success, and displays appropriate error messages for failed login attempts.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/registration/LoginForm.tsx",
          "frontend/src/pages/RegistrationPage.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/registration/LoginForm.tsx",
          "frontend/src/pages/RegistrationPage.tsx"
        ]
      },
      {
        "id": "REQ-113",
        "summary": "Add route guards to the Task pages (frontend/src/pages/Task1Page.tsx, Task2Page.tsx, Task3Page.tsx) that check the current user's authentication status and approval status before rendering task content. If the user is not logged in, redirect to the Registration page. If the user is logged in but has status='Pending', display this exact Bengali message instead of task content: 'আপনার অ্যাকাউন্টটি বর্তমানে যাচাই করা হচ্ছে। অ্যাডমিন অ্যাপ্রুভ করার পর আপনি কাজ শুরু করতে পারবেন।'",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/tasks/ApprovalGuard.tsx",
          "frontend/src/pages/Task1Page.tsx",
          "frontend/src/pages/Task2Page.tsx",
          "frontend/src/pages/Task3Page.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/tasks/ApprovalGuard.tsx",
          "frontend/src/pages/Task1Page.tsx",
          "frontend/src/pages/Task2Page.tsx",
          "frontend/src/pages/Task3Page.tsx"
        ]
      },
      {
        "id": "REQ-114",
        "summary": "Create a new Admin Panel page component at frontend/src/pages/AdminPanelPage.tsx and register it in the TanStack Router route tree at the path '/admin-panel'. The page must use the global SiteLayout and include basic access control (e.g., password prompt or simple auth check).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/pages/AdminPanelPage.tsx",
          "frontend/src/App.tsx"
        ],
        "matchedFiles": [
          "frontend/src/pages/AdminPanelPage.tsx",
          "frontend/src/App.tsx"
        ]
      },
      {
        "id": "REQ-115",
        "summary": "On the Admin Panel page (frontend/src/pages/AdminPanelPage.tsx), fetch all registered users from the backend using the getAllUsers query function and display them in a clean, responsive table or card list showing each user's Name (username), WhatsApp Number, and current Status ('Pending' or 'Approved').",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/admin/UserListTable.tsx",
          "frontend/src/pages/AdminPanelPage.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/admin/UserListTable.tsx",
          "frontend/src/pages/AdminPanelPage.tsx"
        ]
      },
      {
        "id": "REQ-116",
        "summary": "Add an 'Approve' action button next to each 'Pending' user in the Admin Panel user list that, when clicked, calls the backend approveUser function with that user's identifier, updates the user's status to 'Approved', refreshes the user list to show the updated status, and displays a success confirmation message.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/admin/UserListTable.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/admin/UserListTable.tsx"
        ]
      },
      {
        "id": "REQ-117",
        "summary": "Create a React context provider or authentication hook (e.g., frontend/src/hooks/useAuth.ts or useAuthContext.tsx) that manages user authentication state (logged in/out, user details, approval status), provides login/logout functions, and persists the session across page refreshes using localStorage or sessionStorage.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/useAuthContext.tsx",
          "frontend/src/main.tsx"
        ],
        "matchedFiles": [
          "frontend/src/hooks/useAuthContext.tsx"
        ]
      },
      {
        "id": "REQ-118",
        "summary": "Update the Registration page (frontend/src/pages/RegistrationPage.tsx) to show a clear success message after successful registration informing the user that their account is pending admin approval and they will be notified when they can access tasks.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/registration/RegistrationForm.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/registration/RegistrationForm.tsx"
        ]
      }
    ]
  },
  "changedFiles": [
    "backend/authorization/MixinAuthorization.mo",
    "backend/authorization/access-control.mo",
    "backend/main.mo",
    "backend/migration.mo",
    "backend/user-approval/approval.mo",
    "build-request.json",
    "caffeine.lock.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/src/App.tsx",
    "frontend/src/backend.d.ts",
    "frontend/src/backend.ts",
    "frontend/src/components/admin/UserListTable.tsx",
    "frontend/src/components/registration/LoginForm.tsx",
    "frontend/src/components/registration/RegistrationForm.tsx",
    "frontend/src/components/tasks/ApprovalGuard.tsx",
    "frontend/src/declarations/backend.did.d.ts",
    "frontend/src/declarations/backend.did.js",
    "frontend/src/hooks/useActor.ts",
    "frontend/src/hooks/useAuthContext.tsx",
    "frontend/src/hooks/useQueries.ts",
    "frontend/src/pages/AdminPanelPage.tsx",
    "frontend/src/pages/RegistrationPage.tsx",
    "frontend/src/pages/Task1Page.tsx",
    "frontend/src/pages/Task2Page.tsx",
    "frontend/src/pages/Task3Page.tsx",
    "frontend/src/utils/urlParams.ts",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}